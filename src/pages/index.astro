---
import Layout from "../layouts/Layout.astro";
import { getSession } from "auth-astro/server";

const session = await getSession(Astro.request);

export const prerender = false;

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `layouts` directories, and start fresh.
---

<Layout>
	<h1 class="text-3xl font-bold">astro Store</h1>

	<h1>User logged info</h1>
	{
		session ? (
			<div>
				<pre>{JSON.stringify(session, null, 2)}</pre>
			</div>
		) : (
			<h2>Whitout authentication</h2>
		)
	}
</Layout>
